<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ç¬¬7èª²ï¼šå–®å­—æœ—è®€ç·´ç¿’</title>
  <style>
    body {
      font-family: 'Arial', 'Hiragino Kaku Gothic ProN', 'æ¸¸ã‚´ã‚·ãƒƒã‚¯', sans-serif;
      background-color: #fff0f5;
      color: #333;
      padding: 2rem;
    }
    h1 {
      text-align: center;
      color: #d26fa0;
      font-size: 2rem;
      margin-bottom: 1rem;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      background: #fff;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 0 12px #e3a5c7;
    }
    th, td {
      padding: 0.8rem;
      text-align: left;
      border-bottom: 1px solid #f0cde3;
    }
    th {
      background-color: #f8d8e9;
      color: #c04583;
    }
    td.jp:hover, td.cn:hover {
      cursor: pointer;
      background-color: #ffeaf5;
      transition: background-color 0.3s, transform 0.2s;
      transform: scale(1.02);
    }
    .autoplay-btn {
      background-color: #d26fa0;
      color: white;
      padding: 0.8rem 1.5rem;
      border-radius: 20px;
      font-weight: bold;
      cursor: pointer;
      margin-top: 20px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      transition: background-color 0.3s;
    }
    .autoplay-btn:hover {
      background-color: #c04583;
    }
  </style>
</head>
<body>
  <h1>ğŸ“˜ ç¬¬7èª²ï¼šå–®å­—ï¼‹ä¾‹å¥æœ—è®€ç·´ç¿’</h1>

  <button id="autoplay-btn" class="autoplay-btn">ğŸ”Š è‡ªå‹•æ’­æ”¾</button>

  <table>
    <tr>
      <th>å–®å­—ï¼ˆæ—¥æ–‡ï¼‰</th>
      <th>ä¸­æ–‡æ„æ€</th>
      <th>ä¾‹å¥ï¼ˆæ—¥æ–‡ï¼‰</th>
      <th>ä¸­æ–‡ç¿»è­¯</th>
    </tr>
    <tr><td class="jp">ãã‚Šã¾ã™ï¼ˆåˆ‡ã‚Šã¾ã™ï¼‰</td><td class="cn">å‰ªã€åˆ‡</td><td class="jp">ã¯ã•ã¿ã§ ã‹ã¿ã‚’ ãã‚Šã¾ã™ã€‚</td><td class="cn">ç”¨å‰ªåˆ€å‰ªç´™ã€‚</td></tr>
    <tr><td class="jp">ãŠãã‚Šã¾ã™ï¼ˆé€ã‚Šã¾ã™ï¼‰</td><td class="cn">å¯„ã€é€</td><td class="jp">ã¨ã‚‚ã ã¡ã« ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆã‚’ ãŠãã‚Šã¾ã™ã€‚</td><td class="cn">é€ç¦®ç‰©çµ¦æœ‹å‹ã€‚</td></tr>
    <tr><td class="jp">ã‚ã’ã¾ã™</td><td class="cn">çµ¦</td><td class="jp">ã›ã‚“ã›ã„ã« ãŠã‹ã—ã‚’ ã‚ã’ã¾ã™ã€‚</td><td class="cn">çµ¦è€å¸«é»å¿ƒã€‚</td></tr>
    <tr><td class="jp">ã‚‚ã‚‰ã„ã¾ã™</td><td class="cn">å¾—åˆ°</td><td class="jp">ã¨ã‚‚ã ã¡ã« ã¯ãªã‚’ ã‚‚ã‚‰ã„ã¾ã™ã€‚</td><td class="cn">æ”¶åˆ°æœ‹å‹é€çš„èŠ±ã€‚</td></tr>
    <tr><td class="jp">ã‹ã—ã¾ã™ï¼ˆè²¸ã—ã¾ã™ï¼‰</td><td class="cn">å€Ÿçµ¦</td><td class="jp">ã¨ã‚‚ã ã¡ã« ãŠã‹ã­ã‚’ ã‹ã—ã¾ã™ã€‚</td><td class="cn">å€ŸéŒ¢çµ¦æœ‹å‹ã€‚</td></tr>
  </table>

  <script>
    let voicesLoaded = false;
    let jpVoice = null;
    let cnVoice = null;
    let autoPlay = false;
    let currentIndex = 0;
    let vocabRows = [];

    function initVoices() {
      const voices = speechSynthesis.getVoices();
      jpVoice = voices.find(voice => voice.lang === 'ja-JP');
      cnVoice = voices.find(voice => voice.lang === 'zh-CN') || voices.find(voice => voice.lang === 'zh-TW');
      voicesLoaded = true;
    }

    function speak(text, lang) {
      const utterance = new SpeechSynthesisUtterance(text);
      utterance.lang = lang;
      if (lang === 'ja-JP' && jpVoice) {
        utterance.voice = jpVoice;
      } else if ((lang === 'zh-CN' || lang === 'zh-TW') && cnVoice) {
        utterance.voice = cnVoice;
      }
      speechSynthesis.speak(utterance);
    }

    function autoPlayNext() {
      if (!autoPlay) return;
      
      const row = vocabRows[currentIndex];
      const jpText = row.querySelector('.jp').textContent.trim();
      const cnText = row.querySelector('.cn').textContent.trim();

      // å…ˆå¿µæ—¥æ–‡ï¼Œå†å¿µä¸­æ–‡
      speak(jpText, 'ja-JP');
      setTimeout(() => speak(cnText, 'zh-CN'), 1500); // ä¸­æ–‡å»¶é² 1.5 ç§’

      // ä¸‹ä¸€å€‹å–®å­—
      currentIndex = (currentIndex + 1) % vocabRows.length;
      setTimeout(autoPlayNext, 4000); // æ¯çµ„æ—¥ä¸­æœ—è®€é–“éš” 4 ç§’
    }

    function toggleAutoPlay() {
      autoPlay = !autoPlay;
      const btn = document.getElementById('autoplay-btn');
      if (autoPlay) {
        btn.textContent = 'â¹ï¸ åœæ­¢è‡ªå‹•æ’­æ”¾';
        currentIndex = 0;
        autoPlayNext();
      } else {
        btn.textContent = 'ğŸ”Š è‡ªå‹•æ’­æ”¾';
        speechSynthesis.cancel();
      }
    }

    document.addEventListener('DOMContentLoaded', () => {
      initVoices();
      vocabRows = Array.from(document.querySelectorAll('tr')).slice(1); // è·³éè¡¨é ­

      // è‡ªå‹•æ’­æ”¾æŒ‰éˆ•
      document.getElementById('autoplay-btn').addEventListener('click', toggleAutoPlay);

      // é»æ“Šå–®å­—æˆ–ä¸­æ–‡æ’­æ”¾
      document.querySelectorAll('.jp, .cn').forEach(element => {
        element.addEventListener('click', () => {
          const text = element.textContent.trim();
          const lang = element.classList.contains('jp') ? 'ja-JP' : 'zh-CN';
          speak(text, lang);
        });
      });
    });
  </script>
</body>
</html>


